需求
怪物出生 ->戒备状态

戒备状态 
受击 -> 进入战斗状态
戒备行为 巡逻、张望
戒备状态下 巡逻不会超出范围


敌人进入警戒区 ->进入战斗状态



进入战斗状态 ->清空当前敌人->进行索敌 
找到敌人->决定攻击策略与行为队列
没找到->进入搜索状态

攻击决策执行完 -> 检查距离战斗范围
在距离内-> 进入索敌 ->决定攻击策略与行为队列
在距离外->跑回去 ->清空当前敌人 ->进行索敌

战斗状态中 玩家逃出视野范围 ->搜索状态

搜索 一段时间
找到敌人->进入战斗状态
没找到->
不在警戒范围内了 ->跑回去
在 ->戒备状态

中断->清空攻击策略并进入战斗状态

AI行为树 决定用树还是链
需求枚举
当前行为只对之后的行为影响
需要动态改变行为


AI控制器 负责生成、执行AI行为
AI行为控制具体行为逻辑，包括行为链的修改

AI控制器基础功能逻辑
每帧运行AI栈里的行为 如果行为为空 生成行为
中断事件逻辑
受击事件逻辑
放入/弹出一个已执行完的AI行为
清理AI栈
更换角色AI控制器

角色功能
设置角色的AI功能：战斗中、戒备、搜索

戒备状态 
功能
相关AI行为 巡逻 张望
受击 将角色AI转为 通知角色转为战斗AI状态

随机生成警戒走动、转向行为

巡逻
功能 设定两个点 角色走向其中一个点 到达后 隔一段时间走向另一个点 如此循环
张望
功能 每隔一段时间进行转向 

戒备行为 巡逻、张望
戒备状态下 巡逻不会超出范围